{"version":3,"file":"Context.mjs","names":["makeTraced","Equal","Dual","G","Hash","option","TagTypeId","Symbol","for","effectVariance","_R","_","_E","_A","EffectTypeId","TagImpl","_a","symbol","that","random","_S","_I","constructor","id","_tag","i0","undefined","i1","i2","trace","globalValue","traced","of","self","context","make","ContextTypeId","ContextImpl","isContext","unsafeMap","size","k","keys","has","equals","get","number","_id","u","isTag","empty","Map","tag","service","add","dual","map","set","Error","unsafeGet","getOption","none","some","merge","s","pick","tags","tagSet","Set","newEnv","entries","omit","delete"],"sources":["../../../src/internal/Context.ts"],"sourcesContent":[null],"mappings":"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"}