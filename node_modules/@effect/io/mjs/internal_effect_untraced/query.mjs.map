{"version":3,"file":"query.mjs","names":["Debug","seconds","globalValue","BlockedRequests","unsafeMakeWith","isInterruptedOnly","core","currentRequestBatchingEnabled","ensuring","Listeners","currentCache","fiberRefUnsafeMake","map","deferredMake","handle","listeners","currentCacheEnabled","Symbol","for","fromRequest","methodWithTrace","trace","request","dataSource","flatMap","isEffect","succeed","ds","fiberIdWith","id","proxy","Proxy","fiberRefGetWith","cacheEnabled","cache","getEither","orNew","_tag","left","increment","deferredPoll","o","blocked","empty","deferredAwait","sync","decrement","exit","cause","invalidateWhen","entry","right","single","makeEntry","completed","uninterruptibleMask","restore","ref","traced","cacheRequest","result","unit","deferredComplete","withRequestBatching","dualWithTrace","self","strategy","enabled","fiberRefLocally","withRequestCaching","withRequestCache"],"sources":["../../../src/internal_effect_untraced/query.ts"],"sourcesContent":[null],"mappings":"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"}